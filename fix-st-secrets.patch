*** Begin Patch
*** Update File: streamlit/ui.py
@@
-import streamlit as st
-import requests
-import time
-import json
+import os
+import streamlit as st
+import requests
+import time
+import json
@@
-# ----------------------
-# API endpoints
-# ----------------------
-API_URL = st.secrets.get("API_URL", "http://127.0.0.1:8000/submit/prompt")
-API_VALIDATE = st.secrets.get("API_VALIDATE", "http://127.0.0.1:8000/submit/validate")
-API_START = st.secrets.get("API_START", "http://127.0.0.1:8000/start")
+# ----------------------
+# API endpoints (prefer env vars on Render, fall back to Streamlit secrets, then localhost)
+# ----------------------
+API_URL = os.getenv("API_URL", st.secrets.get("API_URL", "http://127.0.0.1:8000/submit/prompt"))
+API_VALIDATE = os.getenv("API_VALIDATE", st.secrets.get("API_VALIDATE", "http://127.0.0.1:8000/submit/validate"))
+API_START = os.getenv("API_START", st.secrets.get("API_START", "http://127.0.0.1:8000/start"))
*** End Patch
